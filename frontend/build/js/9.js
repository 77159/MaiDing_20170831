webpackJsonp([9],{1158:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return{queryAllDevice:function(){return e((0,q.queryAllDeviceBegin)())},queryAllNotDevice:function(){return e((0,q.queryAllNotDeviceBegin)())},showErrorMessage:function(t){return e((0,B.showErrorMessage)(t))},showDeviceFormModal:function(t,a){return e((0,Y.deviceFormModalShow)(t,a))},deleteDevice:function(t){return e((0,q.deleteDevice)(t))},modifyDevice:function(t){return e((0,q.modifyDevice)(t))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceMgrPage=void 0;var i=a(457),r=n(i),o=a(1184),c=n(o),d=a(1185),u=n(d),s=a(1272),f=n(s),p=a(275),m=n(p),h=a(1194),v=n(h),E=a(95),g=n(E),C=a(119),_=n(C),y=a(3),x=n(y),b=a(7),D=n(b),S=a(5),w=n(S),k=a(6),M=n(k),N=a(279),O=n(N),I=a(182),V=n(I);t.actionsDispatchToProps=l,a(458),a(1186),a(1187),a(1274),a(137),a(1195),a(120),a(446),a(183);var F=a(1),R=n(F),L=a(1510),P=n(L),A=a(62),T=a(96),B=a(178),z=a(179),j=n(z),q=a(1178),G=a(1277),U=a(1512),K=n(U),Y=a(1227),H=V.default.Content,W=O.default.Option,Q=t.DeviceMgrPage=function(e){function t(e){(0,x.default)(this,t);var a=(0,w.default)(this,(t.__proto__||(0,_.default)(t)).call(this,e));return a.deviceDataFilter=function(e,t){var a=e.split("&&");return 5!=a.length?(console.error("设备筛选条件长度错误"),!0):null!=t&&(j.default.isEmpty(a[0])||0==j.default.isNull(t.deviceCode)&&t.deviceCode.includes(a[0]))&&(j.default.isEmpty(a[1])||0==j.default.isNull(t.personCode)&&t.personCode.includes(a[1]))&&(j.default.isEmpty(a[2])||0==j.default.isNull(t.personName)&&t.personName.includes(a[2]))&&(t.workStatus==a[3]||"all"==a[3])&&(t.deviceStatus==a[4]||"all"==a[4])},a.onFilterDevice=function(){var e=j.default.isEmpty(a.state.filter_deviceCode)?"":a.state.filter_deviceCode.trim(),t=j.default.isEmpty(a.state.filter_personCode)?"":a.state.filter_personCode.trim(),n=j.default.isEmpty(a.state.filter_personName)?"":a.state.filter_personName.trim(),l=e+"&&"+t+"&&"+n+"&&"+a.state.filter_workStatus+"&&"+a.state.filter_deviceStatus;a.setState({dataFilter:[l]})},a.onResetSearch=function(){a.setState({filter_deviceCode:"",filter_personCode:"",filter_workStatus:"all",filter_deviceStatus:"all",dataFilter:null,curSelectedRowKeys:[],autoComplete_deviceCode:[],autoComplete_personCode:[],filter_personName:""}),a.props.queryAllDevice()},a.showCreateDeviceModal=function(){a.props.showDeviceFormModal("create",{deviceStatus:1})},a.onViewDeviceInfo=function(e){a.props.showDeviceFormModal("modify",e)},a.onChangeDeviceStatus=function(e){e.deviceStatus=e.deviceStatus?0:1,a.props.modifyDevice(e)},a.onDeleteDevice=function(e){a.props.deleteDevice(e),a.setState({curSelectedRowKeys:[]})},a.onSelectChange=function(e){a.setState({curSelectedRowKeys:e})},a.onDeviceCodeAutoCompleteSearch=function(e){var t=a.props.deviceDataSource,n=[];0==j.default.isEmpty(e)&&e.trim().length>2&&t.forEach(function(t){t.deviceCode.includes(e)&&n.push(t.deviceCode)}),a.setState({autoComplete_deviceCode:n})},a.onPersonCodeAutoCompleteSearch=function(e){var t=a.props.deviceDataSource,n=[];0==j.default.isEmpty(e)&&e.trim().length>2&&t.forEach(function(t){t.personCode&&t.personCode.includes(e)&&n.push(t.personCode)}),a.setState({autoComplete_personCode:n})},a.onPersonNameAutoCompleteSearch=function(e){var t=a.props.deviceDataSource,n=[];0==j.default.isEmpty(e)&&e.trim().length>2&&t.forEach(function(t){t.personName&&t.personName.includes(e)&&n.push(t.personName)}),a.setState({autoComplete_personName:n})},a.state={filter_deviceCode:"",filter_personCode:"",filter_workStatus:"all",filter_deviceStatus:"all",dataFilter:null,curSelectedRowKeys:[],autoComplete_deviceCode:[],autoComplete_personCode:[],filter_personName:""},a}return(0,M.default)(t,e),(0,D.default)(t,[{key:"componentDidMount",value:function(){this.props.queryAllDevice(),this.props.queryAllNotDevice()}},{key:"render",value:function(){var e=this,t=this.state.curSelectedRowKeys,a={selectedRowKeys:t,onChange:this.onSelectChange},n=this.props,l=n.deviceDataSource,i=n.tableDataLoading,o=[{title:"设备编号",dataIndex:"deviceCode",key:"deviceCode",filteredValue:this.state.dataFilter,onFilter:function(t,a){return e.deviceDataFilter(t,a)}},{title:"设备名称",dataIndex:"deviceName",key:"deviceName"},{title:"工作状态",dataIndex:"workStatus",key:"workStatus",render:function(e){return 1===e?R.default.createElement("span",null,"工作",R.default.createElement("i",{className:P.default.greenCircle})):R.default.createElement("span",null,"离线",R.default.createElement("i",{className:P.default.redCircle}))}},{title:"剩余电量",dataIndex:"dumpPower",key:"dumpPower",render:function(e){return null==e?R.default.createElement("span",null,"未知"):e&&e<20?R.default.createElement("span",{className:P.default.lowPower},e,"%"):R.default.createElement("span",{className:P.default.power},e,"%")}},{title:"设备状态",dataIndex:"deviceStatus",key:"deviceStatus",render:function(e){return 1===e?R.default.createElement("span",null,"启用",R.default.createElement("i",{className:P.default.greenCircle})):R.default.createElement("span",null,"禁用",R.default.createElement("i",{className:P.default.redCircle}))}},{title:"安保姓名",dataIndex:"personName",key:"personName"},{title:"安保编号",dataIndex:"personCode",key:"personCode"},{title:"添加日期",dataIndex:"createTime",key:"createTime",width:"150px",render:function(e){return j.default.isNumber(e)?new Date(e).format("yyyy-M-d hh:mm"):e}},{title:"备注",dataIndex:"remark",key:"remark",width:"200px"},{title:"操作",key:"operation",width:280,render:function(t,a,n){return R.default.createElement("div",null,R.default.createElement(g.default,{type:"primary",className:P.default.tableBtn,ghost:!0,onClick:function(){return e.onViewDeviceInfo(a)}},"查看"),R.default.createElement(v.default,{title:"确认要执行此操作吗？",onConfirm:function(){return e.onChangeDeviceStatus(a)}},R.default.createElement(g.default,{type:"primary",className:P.default.tableBtn,ghost:!0},Boolean(a.deviceStatus)?"禁用":"启用")),R.default.createElement(v.default,{title:"确认要删除此设备吗？",onConfirm:function(){return e.onDeleteDevice([a.deviceCode])}},R.default.createElement(g.default,{type:"primary",className:P.default.tableBtn,ghost:!0},"删除")))}}];return R.default.createElement(V.default,{className:P.default.layout},R.default.createElement(H,{className:P.default.content},R.default.createElement(c.default,{type:"flex",align:"middle"},R.default.createElement(u.default,{span:3,className:P.default.item},R.default.createElement("span",null,"设备编号"),R.default.createElement(f.default,{dataSource:this.state.autoComplete_deviceCode,onSearch:this.onDeviceCodeAutoCompleteSearch,allowClear:!0,placeholder:"设备编号",size:"large",onChange:function(t){return e.setState({filter_deviceCode:t})},value:this.state.filter_deviceCode},R.default.createElement(m.default,{maxLength:"15"}))),R.default.createElement(u.default,{span:3,className:P.default.item},R.default.createElement("span",null,"安保编号"),R.default.createElement(f.default,{dataSource:this.state.autoComplete_personCode,onSearch:this.onPersonCodeAutoCompleteSearch,allowClear:!0,placeholder:"安保编号",size:"large",onChange:function(t){return e.setState({filter_personCode:t})},value:this.state.filter_personCode},R.default.createElement(m.default,{maxLength:"15"}))),R.default.createElement(u.default,{span:3,className:P.default.item},R.default.createElement("span",null,"安保姓名"),R.default.createElement(f.default,{dataSource:this.state.autoComplete_personName,onSearch:this.onPersonNameAutoCompleteSearch,allowClear:!0,placeholder:"安保姓名",size:"large",onChange:function(t){return e.setState({filter_personName:t})},value:this.state.filter_personName},R.default.createElement(m.default,{maxLength:"15"}))),R.default.createElement(u.default,{span:3,className:P.default.item},R.default.createElement("span",null,"工作状态"),R.default.createElement(O.default,{defaultValue:"all",value:this.state.filter_workStatus,size:"large",onChange:function(t){return e.setState({filter_workStatus:t})}},R.default.createElement(W,{value:"all"},"全部"),R.default.createElement(W,{value:"1"},"工作"),R.default.createElement(W,{value:"0"},"离线"))),R.default.createElement(u.default,{span:3,className:P.default.item},R.default.createElement("span",null,"设备状态"),R.default.createElement(O.default,{defaultValue:"all",value:this.state.filter_deviceStatus,size:"large",onChange:function(t){return e.setState({filter_deviceStatus:t})}},R.default.createElement(W,{value:"all"},"全部"),R.default.createElement(W,{value:"1"},"启用"),R.default.createElement(W,{value:"0"},"禁用"))),R.default.createElement(u.default,{span:4},R.default.createElement(g.default,{type:"primary",icon:"search",size:"large",className:P.default.searchBtn,onClick:this.onFilterDevice},"查询"),R.default.createElement(g.default,{icon:"sync",size:"large",className:P.default.searchBtn,onClick:this.onResetSearch},"重置")),R.default.createElement(u.default,{span:4,className:P.default.textRight},R.default.createElement(v.default,{title:"确认要批量删除所选设备吗？",onConfirm:function(){return e.onDeleteDevice(e.state.curSelectedRowKeys)}},R.default.createElement(g.default,{type:"primary",icon:"delete",size:"large",className:P.default.addBtn,disabled:!this.state.curSelectedRowKeys.length},"批量删除")),R.default.createElement(g.default,{type:"primary",icon:"hdd",size:"large",className:P.default.addBtn,onClick:this.showCreateDeviceModal},"添加设备"))),R.default.createElement(c.default,{className:P.default.tableRow},R.default.createElement(u.default,{span:24},R.default.createElement(r.default,{rowSelection:a,rowKey:function(e){return e.deviceCode},className:P.default.table,bordered:!0,footer:function(e){return"共计 "+e.length+" 条数据"},size:"middle",loading:i,columns:o,dataSource:l}))),R.default.createElement(K.default,null)))}}]),t}(R.default.Component),J=(0,A.createStructuredSelector)({deviceDataSource:(0,G.deviceDataSourceSelector)(),tableDataLoading:(0,G.tableDataLoadingSelector)(),notDeviceDataSource:(0,G.notDeviceDataSourceSelector)(),deviceEntity:(0,G.deviceEntitySelector)()});t.default=(0,T.connect)(J,l)(Q)},1175:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DEVICE_OP_BEGIN="DeviceMgr/DEVICE_OP_BEGIN",t.DEVICE_OP_FINISH="DeviceMgr/DEVICE_OP_FINISH",t.QUERY_ALL_DEVICE_BEGIN="DeviceMgr/QUERY_ALL_DEVICE_BEGIN",t.QUERY_ALL_DEVICE_FINISH="DeviceMgr/QUERY_ALL_DEVICE_FINISH",t.CREATE_DEVICE="DeviceMgr/CREATE_DEVICE",t.MODIFY_DEVICE="DeviceMgr/MODIFY_DEVICE",t.GET_DEVICE="DeviceMgr/GET_DEVICE",t.DELETE_DEVICE="DeviceMgr/DELETE_DEVICE",t.QUERY_ALL_NOT_DEVICE_BEGIN="DeviceMgr/QUERY_ALL_NOT_DEVICE_BEGIN",t.QUERY_ALL_NOT_DEVICE_FINISH="DeviceMgr/QUERY_ALL_NOT_DEVICE_FINISH"},1178:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryAllNotDeviceFinish=t.queryAllNotDeviceBegin=t.deleteDevice=t.getDevice=t.modifyDevice=t.createDevice=t.queryAllDeviceFinish=t.queryAllDeviceBegin=t.deviceOpFinish=t.deviceOpBegin=void 0;var n=a(1175);t.deviceOpBegin=function(){return{type:n.DEVICE_OP_BEGIN}},t.deviceOpFinish=function(){return{type:n.DEVICE_OP_FINISH}},t.queryAllDeviceBegin=function(){return{type:n.QUERY_ALL_DEVICE_BEGIN}},t.queryAllDeviceFinish=function(e){return{type:n.QUERY_ALL_DEVICE_FINISH,payload:e}},t.createDevice=function(e){return{type:n.CREATE_DEVICE,payload:e}},t.modifyDevice=function(e){return{type:n.MODIFY_DEVICE,payload:e}},t.getDevice=function(e){return{type:n.GET_DEVICE,payload:{deviceCode:e}}},t.deleteDevice=function(e){return{type:n.DELETE_DEVICE,deviceCodes:e}},t.queryAllNotDeviceBegin=function(){return{type:n.QUERY_ALL_NOT_DEVICE_BEGIN}},t.queryAllNotDeviceFinish=function(e){return{type:n.QUERY_ALL_NOT_DEVICE_FINISH,payload:e}}},1180:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Col=t.Row=void 0;var l=a(455),i=n(l),r=a(456),o=n(r);t.Row=i.default,t.Col=o.default},1184:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1180);t.default=n.Row,e.exports=t.default},1185:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1180);t.default=n.Col,e.exports=t.default},1186:function(e,t,a){"use strict";a(28),a(442)},1187:function(e,t,a){"use strict";a(28),a(442)},1194:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),i=n(l),r=a(3),o=n(r),c=a(7),d=n(c),u=a(5),s=n(u),f=a(6),p=n(f),m=a(1),h=n(m),v=a(277),E=n(v),g=a(43),C=n(g),_=a(95),y=n(_),x=a(449),b=n(x),D=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&(a[n[l]]=e[n[l]]);return a},S=function(e){function t(e){(0,o.default)(this,t);var a=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onConfirm=function(e){a.setVisible(!1);var t=a.props.onConfirm;t&&t.call(a,e)},a.onCancel=function(e){a.setVisible(!1);var t=a.props.onCancel;t&&t.call(a,e)},a.onVisibleChange=function(e){a.setVisible(e)},a.state={visible:e.visible},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"getPopupDomNode",value:function(){return this.refs.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e){var t=this.props;"visible"in t||this.setState({visible:e});var a=t.onVisibleChange;a&&a(e)}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.title,n=e.placement,l=e.okText,r=e.okType,o=e.cancelText,c=D(e,["prefixCls","title","placement","okText","okType","cancelText"]),d=this.getLocale(),u=h.default.createElement("div",null,h.default.createElement("div",{className:t+"-inner-content"},h.default.createElement("div",{className:t+"-message"},h.default.createElement(C.default,{type:"exclamation-circle"}),h.default.createElement("div",{className:t+"-message-title"},a)),h.default.createElement("div",{className:t+"-buttons"},h.default.createElement(y.default,{onClick:this.onCancel,size:"small"},o||d.cancelText),h.default.createElement(y.default,{onClick:this.onConfirm,type:r,size:"small"},l||d.okText))));return h.default.createElement(E.default,(0,i.default)({},c,{prefixCls:t,placement:n,onVisibleChange:this.onVisibleChange,visible:this.state.visible,overlay:u,ref:"tooltip"}))}}]),t}(h.default.Component);S.defaultProps={prefixCls:"ant-popover",transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary"};var w=(0,b.default)("Popconfirm",{cancelText:"取消",okText:"确定"});t.default=w(S),e.exports=t.default},1195:function(e,t,a){"use strict";a(28),a(450),a(120)},1227:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deviceFormModalViewDevice=t.deviceFormModalModifyDevice=t.deviceFormModalCreateDevice=t.deviceFormModalHide=t.deviceFormModalShow=t.deviceFormModalOpFinish=t.deviceFormModalOpBegin=void 0;var n=a(467);t.deviceFormModalOpBegin=function(){return{type:n.DEVICE_FORM_MODAL_OP_BEGIN}},t.deviceFormModalOpFinish=function(){return{type:n.DEVICE_FORM_MODAL_OP_FINISH}},t.deviceFormModalShow=function(e,t){return{type:n.DEVICE_FORM_MODAL_SHOW,payload:{operation:e,deviceEntity:t}}},t.deviceFormModalHide=function(){return{type:n.DEVICE_FORM_MODAL_HIDE}},t.deviceFormModalCreateDevice=function(){return{type:n.DEVICE_FORM_MODAL_CREATE_DEVICE}},t.deviceFormModalModifyDevice=function(){return{type:n.DEVICE_FORM_MODAL_MODIFY_DEVICE}},t.deviceFormModalViewDevice=function(){return{type:n.DEVICE_FORM_MODAL_VIEW_DEVICE}}},1272:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(44),r=n(i),o=a(11),c=n(o),d=a(2),u=n(d),s=a(3),f=n(s),p=a(7),m=n(p),h=a(5),v=n(h),E=a(6),g=n(E),C=a(1),_=n(C),y=a(464),x=a(9),b=n(x),D=a(279),S=n(D),w=a(275),k=n(w),M=a(1273),N=n(M),O=function(e){function t(){(0,f.default)(this,t);var e=(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getInputElement=function(){var t=e.props.children,a=t&&_.default.isValidElement(t)&&t.type!==y.Option?_.default.Children.only(e.props.children):_.default.createElement(k.default,null),n=(0,u.default)({},a.props);return delete n.children,_.default.createElement(N.default,n,a)},e}return(0,g.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.size,n=t.className,i=void 0===n?"":n,o=t.notFoundContent,d=t.prefixCls,s=t.optionLabelProp,f=t.dataSource,p=t.children,m=(0,b.default)((e={},(0,c.default)(e,d+"-lg","large"===a),(0,c.default)(e,d+"-sm","small"===a),(0,c.default)(e,i,!!i),(0,c.default)(e,d+"-show-search",!0),(0,c.default)(e,d+"-auto-complete",!0),e)),h=void 0,v=_.default.Children.toArray(p);return h=v.length&&l(v[0])?p:f?f.map(function(e){if(_.default.isValidElement(e))return e;switch(void 0===e?"undefined":(0,r.default)(e)){case"string":return _.default.createElement(y.Option,{key:e},e);case"object":return _.default.createElement(y.Option,{key:e.value},e.text);default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}}):[],_.default.createElement(S.default,(0,u.default)({},this.props,{className:m,mode:"combobox",optionLabelProp:s,getInputElement:this.getInputElement,notFoundContent:o}),h)}}]),t}(_.default.Component);t.default=O,O.Option=y.Option,O.OptGroup=y.OptGroup,O.defaultProps={prefixCls:"ant-select",transitionName:"slide-up",optionLabelProp:"children",choiceTransitionName:"zoom",showSearch:!1,filterOption:!1},e.exports=t.default},1273:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),i=n(l),r=a(3),o=n(r),c=a(7),d=n(c),u=a(5),s=n(u),f=a(6),p=n(f),m=a(1),h=n(m),v=a(19),E=function(e){function t(){(0,o.default)(this,t);var e=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.focus=function(){e.ele.focus?e.ele.focus():(0,v.findDOMNode)(e.ele).focus()},e.blur=function(){e.ele.blur?e.ele.blur():(0,v.findDOMNode)(e.ele).blur()},e.saveRef=function(t){e.ele=t;var a=e.props.children.ref;"function"==typeof a&&a(t)},e}return(0,p.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return h.default.cloneElement(this.props.children,(0,i.default)({},this.props,{ref:this.saveRef}),null)}}]),t}(h.default.Component);t.default=E,e.exports=t.default},1274:function(e,t,a){"use strict";a(28),a(1275),a(446)},1275:function(e,t,a){var n=a(1276);"string"==typeof n&&(n=[[e.i,n,""]]);var l={};l.transform=void 0;a(21)(n,l);n.locals&&(e.exports=n.locals)},1276:function(e,t,a){t=e.exports=a(20)(void 0),t.push([e.i,".ant-select-auto-complete.ant-select .ant-select-selection{border:0;box-shadow:none}.ant-select-auto-complete.ant-select .ant-select-selection__rendered{margin-left:0;margin-right:0;height:100%;line-height:28px}.ant-select-auto-complete.ant-select .ant-select-selection__placeholder{margin-left:8px;margin-right:8px}.ant-select-auto-complete.ant-select .ant-select-selection--single{height:auto}.ant-select-auto-complete.ant-select .ant-select-search--inline{position:static;float:left}.ant-select-auto-complete.ant-select-allow-clear .ant-select-selection:hover .ant-select-selection__rendered{margin-right:0!important}.ant-select-auto-complete.ant-select .ant-input{background:transparent;border-width:1px;line-height:1.5;height:28px}.ant-select-auto-complete.ant-select .ant-input:focus,.ant-select-auto-complete.ant-select .ant-input:hover{border-color:#8b8383}.ant-select-auto-complete.ant-select-lg .ant-select-selection__rendered{line-height:32px}.ant-select-auto-complete.ant-select-lg .ant-input{padding:6px 7px;height:32px}.ant-select-auto-complete.ant-select-sm .ant-select-selection__rendered{line-height:22px}.ant-select-auto-complete.ant-select-sm .ant-input{padding:1px 7px;height:22px}",""])},1277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notDeviceDataSourceSelector=t.tableDataLoadingSelector=t.deviceDataSourceSelector=t.selectorDevice=t.deviceEntitySelector=void 0;var n=a(62),l=function(e){return e.get("device")},i=function(){return(0,n.createSelector)(l,function(e){return e.get("deviceDataSource")})},r=function(){return(0,n.createSelector)(l,function(e){return e.get("tableDataLoading")})},o=function(){return(0,n.createSelector)(l,function(e){return e.get("notDeviceDataSource")})},c=function(){return(0,n.createSelector)(l,function(e){return e.get("deviceEntity")})};t.deviceEntitySelector=c,t.selectorDevice=l,t.deviceDataSourceSelector=i,t.tableDataLoadingSelector=r,t.notDeviceDataSourceSelector=o},1510:function(e,t,a){var n=a(1511);"string"==typeof n&&(n=[[e.i,n,""]]);var l={};l.transform=void 0;a(21)(n,l);n.locals&&(e.exports=n.locals)},1511:function(e,t,a){t=e.exports=a(20)(void 0),t.push([e.i,".layout--D9Ym_{height:100%;background:#f2f4f5}.content--3rigk{margin:25px 30px;border-radius:4px;box-shadow:0 0 30px rgba(0,0,0,.2);background:#fff;padding:20px 25px;overflow:hidden}.content--3rigk .ant-row-flex{height:50px}.content--3rigk .ant-table-body>table{border-top-left-radius:6px;border-top-right-radius:6px}.searchBtn--2qcj4{width:84px;font-size:14px}.searchBtn--2qcj4:not(:last-child){margin-right:15px}.addBtn--2Fxf_{width:110px;font-size:14px;padding:0 10px}@media (min-width:1280px){.addBtn--2Fxf_{width:90px;padding:0}}@media (min-width:1366px){.addBtn--2Fxf_{width:96px}}@media (min-width:1400px){.addBtn--2Fxf_{width:100px}}@media (min-width:1520px){.addBtn--2Fxf_{width:110px}}.addBtn--2Fxf_:not(:last-child){margin-right:15px}.tableBtn--2LLOb{margin:0 10px}.tableRow--2uOJE{padding-top:20px}.tableRow--2uOJE .ant-table-thead{background:#45484a}.tableRow--2uOJE .ant-table-thead>tr>th{background:transparent;color:#fff;font-size:15px;border:none;padding:4px 10px}.tableRow--2uOJE .ant-table-tbody>tr>td{padding:8px 10px}.redModal--22bTe .ant-modal-header{background-image:linear-gradient(#e52c38 20%,#bc2631 80%)}.redModal--22bTe .ant-modal-title{color:#fff;font-size:16px}.redModal--22bTe .ant-modal-title i{margin:0 8px 0 0}.redModal--22bTe .ant-modal-close-x{color:#ffe6e6}.redModal--22bTe .ant-modal-close-x:hover{color:#fff}.redModal--22bTe .ant-modal-body{padding-top:30px}.lowPower--tWrfL{color:#f44336;font-weight:700}.power--1WHUh{color:#595959}.circle--1vkA1,.greenCircle--2Gwp1{width:16px;height:16px;display:inline-block;border-radius:50%;vertical-align:middle;line-height:1;margin:-2px 0 0 8px}.greenCircle--2Gwp1{background:radial-gradient(#51b600 40%,rgba(61,183,65,.37) 50%)}.redCircle--1U3oZ{background:radial-gradient(#f44336 40%,rgba(244,67,54,.38) 50%);width:16px;height:16px;display:inline-block;border-radius:50%;vertical-align:middle;line-height:1;margin:-2px 0 0 8px}.item--2LSTK,.item--2LSTK span{padding-right:15px}.item--2LSTK span{display:inline-block}.item--2LSTK .ant-select,.item--2LSTK input{width:calc(100% - 80px)}.item--2LSTK .ant-select-arrow{padding-right:0}.textCenter--9izTX{text-align:center}.textRight--3Oatv{text-align:right}",""]),t.locals={layout:"layout--D9Ym_",content:"content--3rigk",searchBtn:"searchBtn--2qcj4",addBtn:"addBtn--2Fxf_",tableBtn:"tableBtn--2LLOb",tableRow:"tableRow--2uOJE",redModal:"redModal--22bTe",lowPower:"lowPower--tWrfL",power:"power--1WHUh",circle:"circle--1vkA1",greenCircle:"greenCircle--2Gwp1",redCircle:"redCircle--1U3oZ",item:"item--2LSTK",textCenter:"textCenter--9izTX",textRight:"textRight--3Oatv"}},1512:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return{hideModal:function(){return e((0,P.deviceFormModalHide)())},createDevice:function(t){return e((0,T.createDevice)(t))},modifyDevice:function(t){return e((0,T.modifyDevice)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(451),r=n(i),o=a(95),c=n(o),d=a(1513),u=n(d),s=a(2),f=n(s),p=a(275),m=n(p),h=a(119),v=n(h),E=a(3),g=n(E),C=a(7),_=n(C),y=a(5),x=n(y),b=a(6),D=n(b),S=a(276),w=n(S),k=a(182),M=n(k);t.actionsDispatchToProps=l,a(452),a(120),a(1516),a(137),a(278),a(183);var N=a(1),O=n(N),I=a(1519),V=n(I),F=a(62),R=a(96),L=a(1521),P=a(1227),A=a(281),T=a(1178),B=(M.default.Content,w.default.Item),z={labelCol:{span:6},wrapperCol:{span:16}},j={labelCol:{span:0},wrapperCol:{span:24,offset:6}},q=function(e){function t(e){(0,g.default)(this,t);var a=(0,x.default)(this,(t.__proto__||(0,v.default)(t)).call(this,e));return a.addOrModify=function(){if("create"===a.props.operation){a.props.form.validateFields(function(e,t){if(e)return void a.setState({visible:!1,confirmLoading:!1});t.deviceStatus=t.deviceStatus?1:0,a.props.createDevice(t)})}else{a.props.form.validateFields(function(e,t){if(e)return void a.setState({visible:!1,confirmLoading:!1});t.deviceStatus=t.deviceStatus?1:0,a.props.modifyDevice(t)})}},a.onCancel=function(){a.props.form.resetFields(),a.props.hideModal()},a.state={},a}return(0,D.default)(t,e),(0,_.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.deviceEntity||e.deviceEntity?(!this.props.deviceEntity&&e.deviceEntity||this.props.deviceEntity!==e.deviceEntity)&&this.props.form.resetFields():this.props.form.resetFields()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.modalVisible,n=t.operation,l=t.deviceEntity,i=t.operationRunning,o="create"===n?"添加设备":"编辑设备信息",d="create"===n?"添加":"保存",s="create"!==n;return O.default.createElement(r.default,{title:O.default.createElement("span",null,O.default.createElement("i",{className:"iconfont icon-shebeiguanli"}),o),visible:a,onCancel:this.onCancel,footer:null,className:V.default.redModal},O.default.createElement(w.default,{layout:"horizontal"},O.default.createElement(B,(0,f.default)({label:"设备编号"},z,{hasFeedback:!0,colon:!1}),e("deviceCode",{rules:[{required:!0,regexp:"regexp",pattern:A.appRegExp.DEVICECODE,min:3,max:15,message:A.appRegExp.DEVICECODE_ERROR_MSG}],initialValue:l.deviceCode})(O.default.createElement(m.default,{disabled:s,maxLength:"15"}))),O.default.createElement(B,(0,f.default)({label:"设备名称"},z,{hasFeedback:!0,colon:!1}),e("deviceName",{rules:[{required:!0,regexp:"regexp",pattern:A.appRegExp.DEVICENAME,min:0,max:20,message:A.appRegExp.DEVICENAME_ERROR_MSG}],initialValue:l.deviceName})(O.default.createElement(m.default,{maxLength:"15"}))),O.default.createElement(B,(0,f.default)({label:"启用状态"},z,{required:!0,colon:!1}),e("deviceStatus",{initialValue:Boolean(l.deviceStatus),valuePropName:"checked"})(O.default.createElement(u.default,null))),O.default.createElement(B,(0,f.default)({label:"设备标识"},z,{hasFeedback:!0,colon:!1}),e("deviceInfo",{rules:[{required:!0,regexp:"regexp",pattern:A.appRegExp.DEVICEINFO,message:A.appRegExp.DEVICEINFO_ERROR_MSG}],initialValue:l.deviceInfo})(O.default.createElement(m.default,{type:"textarea",placeholder:"设备编号+标识，其中设备编号和标识中间以英文逗号隔开。"}))),O.default.createElement(B,(0,f.default)({label:"备注"},z,{colon:!1}),e("remark",{initialValue:l.remark})(O.default.createElement(m.default,{type:"textarea",maxLength:"200"}))),O.default.createElement(B,j,O.default.createElement(c.default,{key:"submit",type:"primary",loading:i,size:"large",onClick:this.addOrModify,style:{margin:"0px 10px",width:"120px"}},d),O.default.createElement(c.default,{key:"back",size:"large",onClick:this.onCancel,style:{margin:"0px 10px",width:"120px"}},"取消"))))}}]),t}(O.default.Component),G=(0,F.createStructuredSelector)({modalVisible:(0,L.modalVisibleSelector)(),operation:(0,L.operationSelector)(),operationRunning:(0,L.operationRunningSelector)(),deviceEntity:(0,L.deviceEntitySelector)()});t.default=(0,R.connect)(G,l)(w.default.create()(q))},1513:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),i=n(l),r=a(11),o=n(r),c=a(3),d=n(c),u=a(7),s=n(u),f=a(5),p=n(f),m=a(6),h=n(m),v=a(1),E=n(v),g=a(4),C=n(g),_=a(1514),y=n(_),x=a(9),b=n(x),D=function(e){function t(){return(0,d.default)(this,t),(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.size,n=e.className,l=void 0===n?"":n,r=(0,b.default)(l,(0,o.default)({},t+"-small","small"===a));return E.default.createElement(y.default,(0,i.default)({},this.props,{className:r}))}}]),t}(E.default.Component);t.default=D,D.defaultProps={prefixCls:"ant-switch"},D.propTypes={prefixCls:C.default.string,size:C.default.oneOf(["small","default","large"]),className:C.default.string},e.exports=t.default},1514:function(e,t,a){e.exports=a(1515)},1515:function(e,t,a){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0});var l=a(2),i=a.n(l),r=a(11),o=a.n(r),c=a(97),d=a.n(c),u=a(3),s=a.n(u),f=a(7),p=a.n(f),m=a(5),h=a.n(m),v=a(6),E=a.n(v),g=a(1),C=a.n(g),_=a(4),y=a.n(_),x=a(9),b=function(e){function t(e){s()(this,t);var a=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));D.call(a);var n=!1;return n="checked"in e?!!e.checked:!!e.defaultChecked,a.state={checked:n},a}return E()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){"checked"in e&&this.setState({checked:!!e.checked})}},{key:"setChecked",value:function(e){this.props.disabled||("checked"in this.props||this.setState({checked:e}),this.props.onChange(e))}},{key:"render",value:function(){var e,t=this.props,a=t.className,n=t.prefixCls,l=t.disabled,r=t.checkedChildren,c=t.tabIndex,u=t.unCheckedChildren,s=d()(t,["className","prefixCls","disabled","checkedChildren","tabIndex","unCheckedChildren"]),f=this.state.checked,p=l?-1:c||0,m=x((e={},o()(e,a,!!a),o()(e,n,!0),o()(e,n+"-checked",f),o()(e,n+"-disabled",l),e));return C.a.createElement("span",i()({},s,{className:m,tabIndex:p,ref:this.saveNode,onKeyDown:this.handleKeyDown,onClick:this.toggle,onMouseUp:this.handleMouseUp}),C.a.createElement("span",{className:n+"-inner"},f?r:u))}}]),t}(g.Component),D=function(){var e=this;this.toggle=function(){var t=e.props.onClick,a=!e.state.checked;e.setChecked(a),t(a)},this.handleKeyDown=function(t){37===t.keyCode?e.setChecked(!1):39===t.keyCode?e.setChecked(!0):32!==t.keyCode&&13!==t.keyCode||e.toggle()},this.handleMouseUp=function(t){e.node&&e.node.blur(),e.props.onMouseUp&&e.props.onMouseUp(t)},this.saveNode=function(t){e.node=t}};b.propTypes={className:y.a.string,prefixCls:y.a.string,disabled:y.a.bool,checkedChildren:y.a.any,unCheckedChildren:y.a.any,onChange:y.a.func,onMouseUp:y.a.func,onClick:y.a.func,tabIndex:y.a.number,checked:y.a.bool,defaultChecked:y.a.bool},b.defaultProps={prefixCls:"rc-switch",checkedChildren:null,unCheckedChildren:null,className:"",defaultChecked:!1,onChange:n,onClick:n},t.default=b},1516:function(e,t,a){"use strict";a(28),a(1517)},1517:function(e,t,a){var n=a(1518);"string"==typeof n&&(n=[[e.i,n,""]]);var l={};l.transform=void 0;a(21)(n,l);n.locals&&(e.exports=n.locals)},1518:function(e,t,a){t=e.exports=a(20)(void 0),t.push([e.i,'.ant-switch{position:relative;display:inline-block;box-sizing:border-box;height:22px;min-width:44px;line-height:20px;vertical-align:middle;border-radius:20px;border:1px solid transparent;background-color:rgba(0,0,0,.25);cursor:pointer;transition:all .36s;user-select:none}.ant-switch-inner{color:#fff;font-size:14px;margin-left:24px;margin-right:6px;display:block}.ant-switch:after{position:absolute;width:18px;height:18px;left:1px;top:1px;border-radius:18px;background-color:#fff;content:" ";cursor:pointer;transition:all .36s cubic-bezier(.78,.14,.15,.86)}.ant-switch:active:after{width:24px}.ant-switch:focus{box-shadow:0 0 0 2px hsla(0,5%,38%,.2);outline:0}.ant-switch:focus:hover{box-shadow:none}.ant-switch-small{height:14px;min-width:28px;line-height:12px}.ant-switch-small .ant-switch-inner{margin-left:18px;margin-right:3px}.ant-switch-small:after{width:12px;height:12px;top:0;left:.5px}.ant-switch-small:active:after{width:16px}.ant-switch-small.ant-switch-checked:after{left:100%;margin-left:-12.5px}.ant-switch-small.ant-switch-checked .ant-switch-inner{margin-left:3px;margin-right:18px}.ant-switch-small:active.ant-switch-checked:after{margin-left:-16.5px}.ant-switch-checked{background-color:#665c5c}.ant-switch-checked .ant-switch-inner{margin-left:6px;margin-right:24px}.ant-switch-checked:after{left:100%;margin-left:-19px}.ant-switch-checked:active:after{margin-left:-25px}.ant-switch-disabled{cursor:not-allowed;background:#f4f4f4}.ant-switch-disabled:after{background:#ccc;cursor:not-allowed}.ant-switch-disabled .ant-switch-inner{color:rgba(0,0,0,.25)}',""])},1519:function(e,t,a){var n=a(1520);"string"==typeof n&&(n=[[e.i,n,""]]);var l={};l.transform=void 0;a(21)(n,l);n.locals&&(e.exports=n.locals)},1520:function(e,t,a){t=e.exports=a(20)(void 0),t.push([e.i,".redModal--2moVW .ant-modal-header{background-image:linear-gradient(#e52c38 20%,#bc2631 80%)}.redModal--2moVW .ant-modal-title{color:#fff;font-size:16px}.redModal--2moVW .ant-modal-title i{margin:0 8px 0 0}.redModal--2moVW .ant-modal-close-x{color:#ffe6e6}.redModal--2moVW .ant-modal-close-x:hover{color:#fff}.redModal--2moVW .ant-modal-body{padding-top:30px}.redModal--2moVW .has-feedback:after{font-size:17px}",""]),t.locals={redModal:"redModal--2moVW"}},1521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operationRunningSelector=t.operationSelector=t.modalVisibleSelector=t.deviceEntitySelector=t.selectorDeviceFormModal=void 0;var n=a(62),l=function(e){return e.get("deviceFormModal")},i=function(){return(0,n.createSelector)(l,function(e){return e.get("deviceEntity")})},r=function(){return(0,n.createSelector)(l,function(e){return e.get("modalVisible")})},o=function(){return(0,n.createSelector)(l,function(e){return e.get("operation")})},c=function(){return(0,n.createSelector)(l,function(e){return e.get("operationRunning")})};t.selectorDeviceFormModal=l,t.deviceEntitySelector=i,t.modalVisibleSelector=r,t.operationSelector=o,t.operationRunningSelector=c}});
//# sourceMappingURL=9.js.map